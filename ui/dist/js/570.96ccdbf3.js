"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[570],{6570:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var c=s(3396),r=s(7139),a=s(9242);const n=e=>((0,c.dD)("data-v-4da3ba1d"),e=e(),(0,c.Cn)(),e),l=n((()=>(0,c._)("h6",null,"Prémium Shop",-1))),i={class:"current-amount"},d=(0,c.Uk)(" Elérhető egyenleg: "),o=(0,c.Uk)(" PP "),u={class:"row"},h={class:"col"},m={class:"col"},y={class:"col"},b={key:1,class:"mt-3 text-center"},p=(0,c.Uk)(" Nincs találat a következőre: "),P={class:"fst-italic"},w={class:"card-container mt-3 d-flex justify-content-center flex-wrap"},f={class:"card"},k={key:0,class:"card-img-top"},v=["src"],g={class:"card-body"},_={class:"card-title fw-bold text-center m-0"},C={class:"card-text text-center fst-italic mb-2"},x=["onClick","disabled"];function I(e,t,s,n,I,D){return(0,c.wg)(),(0,c.iD)("div",null,[l,(0,c._)("p",i,[d,(0,c._)("span",{style:(0,r.j5)({color:I.currentPP>0?"green":"red"})},(0,r.zw)(I.currentPP??"Nincs"),5),o]),(0,c._)("div",u,[(0,c._)("div",h,[(0,c._)("button",{onClick:t[0]||(t[0]=e=>D.select("items")),class:"btn btn-secondary w-100"},"Tárgyak")]),(0,c._)("div",m,[(0,c._)("button",{onClick:t[1]||(t[1]=e=>D.select("vehicles")),class:"btn btn-secondary w-100"},"Járművek")]),(0,c._)("div",y,[(0,c._)("button",{onClick:t[2]||(t[2]=e=>D.select("money")),class:"btn btn-secondary w-100"},"Pénz")])]),"money"!=I.selectedType?(0,c.wy)(((0,c.wg)(),(0,c.iD)("input",{key:0,"onUpdate:modelValue":t[3]||(t[3]=e=>I.search=e),type:"text",class:"form-control form-control-sm mt-2",placeholder:"Keresés...",maxlength:"30"},null,512)),[[a.nr,I.search]]):(0,c.kq)("",!0),I.search.length>0&&D.filteredCards.length<=0?((0,c.wg)(),(0,c.iD)("h6",b,[p,(0,c._)("span",P," ("+(0,r.zw)(I.search)+") ",1)])):(0,c.kq)("",!0),(0,c._)("div",w,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(D.filteredCards,(e=>((0,c.wg)(),(0,c.iD)("div",{key:e,class:"p-2 pt-0"},[(0,c._)("div",f,[e.img?((0,c.wg)(),(0,c.iD)("div",k,[(0,c._)("img",{src:e.img},null,8,v)])):(0,c.kq)("",!0),(0,c._)("div",g,[(0,c._)("div",_,(0,r.zw)(e.label),1),(0,c._)("div",C,(0,r.zw)(e.price)+"PP",1),(0,c._)("button",{onClick:t=>D.buyItem(e),class:(0,r.C_)([D.getItemClass(e),"btn w-100"]),disabled:(I.currentPP||0)<=0},"Vásárlás",10,x)])])])))),128))])])}var D={name:"PremiumView",data(){return{selectedType:"items",search:"",currentPP:0,items:[],vehicles:[],money:[]}},computed:{filteredCards(){return this[this.selectedType].filter((e=>isNaN(parseInt(this.search))?e.label.toLowerCase().includes(this.search.toLowerCase()):e.price<=parseInt(this.search)))}},methods:{select(e){this.selectedType=e,this.search=""},getItemClass(e){let{price:t}=e;t=t||0;const s=this.currentPP||0;return{["btn-success"]:s>=t,["btn-danger"]:s<t}},async buyItem(e){const t=await fetch(`https://${GetParentResourceName()}/buyPremiumItem`,{method:"POST",body:JSON.stringify({item:e,typ:this.selectedType})}),{currentPP:s}=await t.json();s&&(this.currentPP=s)}},async created(){const e=await fetch(`https://${GetParentResourceName()}/getPremiumStuff`),{currentPP:t,items:s,vehicles:c,money:r}=await e.json();this.currentPP=t,this.items=s,this.vehicles=c,this.money=r}},N=s(89);const T=(0,N.Z)(D,[["render",I],["__scopeId","data-v-4da3ba1d"]]);var z=T}}]);
//# sourceMappingURL=570.96ccdbf3.js.map